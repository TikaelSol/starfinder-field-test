@font-face {
  font-family: "Exo2";
  src: local("Exo2"), url("../fonts/Exo2.woff2") format("woff2 supports variations"),
    url("../fonts/Exo2.woff2") format("woff2-variations");
  font-weight: 350;
  font-style: normal;
}

@font-face {
  font-family: "Exo2";
  src: local("Exo2"), url("../fonts/Exo2.woff2") format("woff2 supports variations"),
    url("../fonts/Exo2.woff2") format("woff2-variations");
  font-weight: 600;
  font-style: normal;
}

@font-face {
  font-family: "Exo2";
  src: local("Exo2-Italic"), url("../fonts/Exo2-Italic.woff2") format("woff2 supports variations"),
    url("../fonts/Exo2-Italic.woff2") format("woff2-variations");
  font-weight: 350;
  font-style: italic;
}

@font-face {
  font-family: "Exo2";
  src: local("Exo2-Italic"), url("../fonts/Exo2-Italic.woff2") format("woff2 supports variations"),
    url("../fonts/Exo2-Italic.woff2") format("woff2-variations");
  font-weight: 600;
  font-style: italic;
}

@font-face {
  font-family: "Saira";
  src: local("Saira"), url("../fonts/Saira.woff2") format("woff2 supports variations"),
    url("../fonts/Saira.woff2") format("woff2-variations");
  font-weight: 350;
  font-style: normal;
}

@font-face {
  font-family: "Saira";
  src: local("Saira"), url("../fonts/Saira.woff2") format("woff2 supports variations"),
    url("../fonts/Saira.woff2") format("woff2-variations");
  font-weight: 600;
  font-style: normal;
}

@font-face {
  font-family: "Saira-Italic";
  src: local("Saira-Italic"), url("../fonts/Saira-Italic.woff2") format("woff2 supports variations"),
    url("../fonts/Saira-Italic.woff2") format("woff2-variations");
  font-weight: 350;
  font-style: italic;
}

@font-face {
  font-family: "Saira-Italic";
  src: local("Saira-Italic"), url("../fonts/Saira-Italic.woff2") format("woff2 supports variations"),
    url("../fonts/Saira-Italic.woff2") format("woff2-variations");
  font-weight: 600;
  font-style: italic;
}

.app.sheet.actor.character section.window-content {

  background-image: none;

  form.crb-style {
  /* Color Definitions */
  --color-bg-trait: #14364f;
  --color-bg-trait-dark: #0c192b;
  --color-bg-trait-dark-transparent: rgba(0, 0, 0, 0.2);
  --color-bg-trait-light: #ffffff;
  --color-bd-text-input: rgba(0, 0, 0, 0.255);
  --color-border-trait: #ffffffb6;
  --c-primary: rgba(255, 255, 255, 0.9);
  --c-secondary: #72236a;
  --c-tertiary: #14364f;
  --c-accent: #ffffff;
  --c-emphasis: #ffffff;
  --c-damage: rgba(122, 10, 10, 0.627);
  --c-secondary-light: #72236a;
  --c-tertiary-light: #ffffff;
  --c-accent-light: #ffffff;
  --c-accent-dark: #14364f;
  --c-primary-dark: hsl(207, 41%, calc(29% / 1.7));
  --c-tertiary-dark: hsl(316, 43%, calc(52% / 1.2));
  --c--bg-tag-primary: #14364f;
  --c--bg-tag-secondary: #c02175;
  --c--bg-tag-tertiary: #354f14;
  --c--bg-tag-alt: #144f4c;
  --visibility-gm-bg: rgba(0, 0, 0, 0.5);

  /* Font Overrides */
  --serif: Saira, sans-serif;
  --body-serif: Exo2, sans-serif;

  /* Color Overrides */
  --sidebar-title: var(--c-accent);
  --sidebar-label: var(--c-tertiary-light);
  --color-pf-primary: var(--c-primary);
  --color-pf-secondary: var(--c-secondary-light);
  --color-pf-tertiary: var(--c-tertiary-light);
  --primary: var(--c-primary);
  --sub: #ffffff;
  --alt: #14364f;
  --color-pf-alternate: var(--alt);
  --bg-dark: #14364f;
  --text-light: rgba(255, 255, 255, 0.9);
  --text-light-inactive: rgba(255, 255, 255, 0.5);

    background: none, linear-gradient(45deg, rgba(160, 19, 79, 0.85) 0%, rgba(50, 17, 69, 0.85) 100%);
    background-size: 100% 5.625rem, auto;
    background-repeat: repeat-x, repeat;

    .pf-rank[data-rank="1"] {
      background: var(--c-accent-dark);
    }

    .pf-rank[data-rank="2"] {
      background: var(--c-secondary);
    }

    .pf-rank[data-rank="3"] {
      background: #3a7b59;
    }

    .pf-rank[data-rank="4"] {
      background: #98503d;
    }

    div.data-value {
      input {
        position: relative;
        top: -0.3rem;
      }
    }

    .content-link,
    .inline-roll {
      color: var(--text-light);
      background-color: var(--c--bg-tag-primary);
      box-shadow: inset 0 0 0 1px rgba(255, 255, 255, 0.3), inset 0 0 0 2px rgba(0, 0, 0, 0.2);
      padding-bottom: 3px;
      padding-top: 1px;
    }

    .content-link i,
    .inline-roll i {
      color: var(--text-light);
    }

    span[data-pf2-effect-area] {
      background: var(--c--bg-tag-primary);
      border-radius: 2px;
      border: 1px solid var(--color-border-dark-tertiary);
      box-sizing: border-box;
      color: var(--text-light);
      padding: 0 var(--space-4);
      white-space: nowrap;
      word-break: break-all;
      cursor: pointer;
      padding-right: 0;
    }
    span[data-pf2-effect-area] > i.icon {
      color: var(--text-light);
      margin-right: var(--space-4);
    }
    span[data-pf2-effect-area]::before {
      color: var(--text-light);
    }
    span[data-pf2-effect-area]:hover {
      text-shadow: 0 0 8px var(--color-shadow-primary);
    }

    i[data-pf2-repost] {
      transition: text-shadow 0.15s ease-in-out, background-color 0.15s ease-in-out, border 0.15s ease-in-out, color 0.15s ease-in-out, box-shadow 0.15s ease-in-out;
      background: var(--inline-repost-bg);
      color: var(--text-light-inactive);
      border-left: 1px solid var(--color-border-dark-tertiary);
      background: none;
      padding: var(--space-2);
      margin-left: var(--space-2);
      text-shadow: none;
    }
    i[data-pf2-repost]:hover {
      color: var(--text-light);
      text-shadow: 0 0 8px var(--color-shadow-primary);
    }

    a.inline-check,
    span[data-pf2-check] {
      background: var(--c--bg-tag-primary);
      border-radius: 2px;
      border: 1px solid var(--color-border-dark-tertiary);
      box-sizing: border-box;
      color: var(--text-light);
      padding: 0 var(--space-4);
      white-space: nowrap;
      word-break: break-all;
    }
    a.inline-check > i.icon,
    span[data-pf2-check] > i.icon {
      color: var(--text-light-inactive);
      margin-right: var(--space-4);
    }
    a.inline-check:has([data-pf2-repost]),
    span[data-pf2-check]:has([data-pf2-repost]) {
      padding-right: 0;
    }
    a.inline-check:hover,
    span[data-pf2-check]:hover {
      text-shadow: 0 0 8px var(--color-shadow-primary);
    }

    [data-visibility=gm]:not(.dice-result > *) {
      background: var(--visibility-gm-bg);
      border-radius: 1px;
      box-sizing: border-box;
      display: inline-block;
      line-height: 1em;
      outline: 1px dotted rgba(75, 74, 68, 0.5);
      padding: var(--space-1);
    }
    [data-visibility=gm]:not(.dice-result > *).message-sender {
      align-self: center;
      margin-bottom: var(--space-4);
      max-width: fit-content;
    }
    [data-visibility=gm]:not(.dice-result > *) [data-visibility=gm] {
      outline: none;
      padding: initial;
    }

    input[type="checkbox"]:checked,
    input[type="radio"]:checked,
    .pf2e.item.sheet form .sheet-content input[type=checkbox],
    .pf2e.item.sheet form .sheet-content select {
      background: none;
      accent-color: var(--color-bg-trait-dark-transparent);
      border: 1px solid rgb(255, 255, 255);
    }

    .details-input {
      color: var(--text-light);
      background-color: var(--color-bd-text-input);
    }

    .details-input:focus {
      border-bottom: 1px solid var(--alt);
    }

    select {
      box-shadow: inset 0 0 0 1px rgba(255, 255, 255, 0.3), inset 0 0 0 2px rgba(0, 0, 0, 0.2);
    }

    .prosemirror menu {
      background: var(--menu-background);

    }
    .prosemirror menu .concurrent-users {
      background: var(--color-control-bg);
    }
    .prosemirror menu button.source-code-action {
      background: var(--color-control-bg);
    }
    .prosemirror menu button:hover,
    .prosemirror menu button.active {
      box-shadow: none;
      background: var(--color-hover-bg);
      color: black;
    }
    .prosemirror menu .pm-dropdown {
      background: none;
    }
    .prosemirror menu .pm-dropdown i.fa-chevron-down {
      color: var(--color-text-light-7);
    }
    .prosemirror menu .pm-dropdown:hover i {
      color: var(--color-text-dark-primary);
    }

    .tags.light > .tag,
    .tags > .tag.light {
      --tag-color: var(--color-pf-alternate-dark);
      background: none;
      border-radius: 2px;
      border: 1px solid var(--c-accent);
      box-shadow: none;
      color: var(--text-light);
      padding-bottom: 3px;
    }

    .tags .tag[data-action="strike-damage"],
    .tags .tag[data-action="strike-critical"] {
      background-color: var(--c-damage);
      border-radius: 2px;
      border-color: var(--color-border-trait);
      box-shadow: inset 0 0 0 1px rgba(0, 0, 0, 0.5);
      color: var(--color-text-trait);
    }

    .tags .tag,
    .tags .tag option {
      background-color: var(--c--bg-tag-primary);
      border-radius: 2px;
      box-shadow: inset 0 0 0 1px rgba(0, 0, 0, 0.5);
      color: var(--color-text-trait);
    }
    .tags .tag.tag_secondary,
    .tags .tag option.tag_secondary {
      background-color: var(--c--bg-tag-secondary);
    }
    .tags .tag.tag_tertiary,
    .tags .tag option.tag_tertiary {
      background-color: var(--c--bg-tag-tertiary);
    }
    .tags .tag.tag_alt,
    .tags .tag option.tag_alt {
      background-color: var(--c--bg-tag-alt);
    }
    .tags .tag.ghost-touch,
    .tags .tag option.ghost-touch {
      background-color: #222933;
    }
    .tags .tag.tag_material,
    .tags .tag option.tag_material {
      background-color: var(--color-pf-alternate-dark);
    }
    .tags .tag.tag_transparent,
    .tags .tag option.tag_transparent {
      background-color: transparent;
      border-radius: 4px;
      box-shadow: inset 0 0 0 1px rgba(0, 0, 0, 0.3);
      color: var(--color-text-dark-secondary);
      font-family: var(--sans-serif);
      line-height: 1.5em;
      padding: 0 0.5em;
      text-transform: none;
    }
    .tags .tag.rarity.common, .tags .tag.rarity[value=common],
    .tags .tag.rarity > option[value=common],
    .tags .tag option.rarity.common,
    .tags .tag option.rarity[value=common],
    .tags .tag option.rarity > option[value=common] {
      background-color: var(--color-rarity-common);
    }
    .tags .tag.rarity.uncommon, .tags .tag.rarity[value=uncommon],
    .tags .tag.rarity > option[value=uncommon],
    .tags .tag option.rarity.uncommon,
    .tags .tag option.rarity[value=uncommon],
    .tags .tag option.rarity > option[value=uncommon] {
      background-color: var(--color-rarity-uncommon);
    }
    .tags .tag.rarity.rare, .tags .tag.rarity[value=rare],
    .tags .tag.rarity > option[value=rare],
    .tags .tag option.rarity.rare,
    .tags .tag option.rarity[value=rare],
    .tags .tag option.rarity > option[value=rare] {
      background-color: var(--color-rarity-rare);
    }
    .tags .tag.rarity.unique, .tags .tag.rarity[value=unique],
    .tags .tag.rarity > option[value=unique],
    .tags .tag option.rarity.unique,
    .tags .tag option.rarity[value=unique],
    .tags .tag option.rarity > option[value=unique] {
      background-color: var(--color-rarity-unique);
    }
    .tags .tag.mystified,
    .tags .tag option.mystified {
      opacity: 0.7;
    }

    > header.char-header .char-level .level {
      filter: hue-rotate(270deg) brightness(1.6);
      input {
        font-size: 1rem;
        position: relative;
        top: -0.2rem;
      }
    }

    ol.spell-list > li.header-row {
      background-color: rgba(58, 123, 89, 0.1);
    }

    ul.items > li:nth-of-type(even),
    ol.feats-list li.slot:nth-child(odd),
    ol.spell-list li:nth-child(odd):not(.header-row) {
      background-color: rgba(113, 127, 127, 0.1);
    }

    nav.sub-nav {
      background-color: var(--color-bg-trait-dark);
      box-shadow: 0 2px 4px rgba(0, 0, 0, 0.18);

      a {
        border-left: 1px solid rgba(255, 255, 255, 0.3);
        border-right: 1px solid rgba(0, 0, 0, 0.2);
        color: var(--text-light-inactive);
      }

      a:hover, 
      a.active {
        color: var(--text-light);
      }

    }

    .item-summary .description .addendum {
      border-image-source: none;
      border-style: none;
      background: none;
      border-radius: 4px;
      color: var(--text-light);
      padding: var(--space-4);
      margin: 0 0 var(--space-8);
    }

    > nav.sheet-navigation {
      z-index: 2;
      background: linear-gradient(to right, var(--color-bg-trait-dark), var(--color-bg-trait-dark));

      .item {
        box-shadow: 0 0 0 1px var(--color-pf-tertiary), 0 0 0 2px var(--c-accent), inset 0 0 4px rgba(0, 0, 0, 0.25);
        
        &.active {
          background-image: radial-gradient(circle at center, var(--c-secondary), var(--c-secondary));
          box-shadow: 0 0 0 1px var(--color-pf-tertiary), 0 0 0 2px var(--c-accent), inset 0 0 4px rgba(0, 0, 0, 0.25),
            0 0 8px var(--color-pf-tertiary);
        }

        &:hover,
        &.active:hover {
          background-image: radial-gradient(circle at center, var(--c-secondary), var(--c-tertiary));
          box-shadow: 0 0 0 1px var(--color-pf-tertiary), 0 0 0 2px var(--c-accent), inset 0 0 4px rgba(0, 0, 0, 0.25),
            0 0 8px var(--color-pf-tertiary);
        }
      }
    }

    > .sheet-body .sheet-content {
      color: var(--text-light);

      .tab.active.character .subsection.details .image-container .actor-image {
          box-shadow: 0 0 0 1px #888e91, 0 0 0 2px #d0e0e2, 0 0 0 3px var(--c-accent), inset 0 0 8px rgba(0, 0, 0, 0.5),
            0 0 8px black;
      }

      .magazine {
        background-color: var(--color-bg-trait);
        color: rgba(255, 255, 255, 0.895);
        padding-left: 3px;
        padding-right: 3px;
        padding-top: 2.5px;
        padding-bottom: 2.5px;
        border-radius: 4px;
        box-shadow: inset 0 0 0 1px rgba(255, 255, 255, 0.3), inset 0 0 0 2px rgba(0, 0, 0, 0.2);
      }

      .magazine .icon {
        filter: invert(1);
      }

      .item-image.framed,
      .item-image.framed i {
        background-color: var(--color-bg-trait-light);
        box-shadow: inset 0 0 0 1px rgba(255, 255, 255, 0.3), inset 0 0 0 2px rgba(0, 0, 0, 0.2);    
      }

      .tab.actions ol.actions-list li.action .item-summary, 
      .tab.actions ol.actions-list li.strike .item-summary {
        border-image: none;
        border: none;
        border: 1px solid var(--color-border-trait);
        border-radius: 4px;
      }

      .toggles button.selected,
      .toggles button.selected::before {
        background: var(--color-bg-trait-light);
        color: var(--text-light);
      }
      .toggles button.selected i.fa-solid,
      .toggles button.selected i.fa-solid.blast {
        color: var(--text-light);
      }

      > .tab.active.actions {
        ol.actions-list li.strike:not(.ready) h4.name {
          color: var(--text-light-inactive);
        }
        ol.actions-list {
          li.strike .button-group button {
            box-shadow: inset 0 0 0 1px rgba(255, 255, 255, 0.3), inset 0 0 0 2px rgba(0, 0, 0, 0.2);
          }
        }
      }

      > .tab.active.actions ol.actions-list .toggles button.selected {
        background: var(--color-bg-trait-light);
      }
      > .tab.active.actions ol.actions-list .toggles button.selected::before {
        background: var(--color-bg-trait-dark-transparent);
      }



      button {
        border: 1px solid rgba(255, 255, 255, 0.701);
        color: rgba(255, 255, 255, 0.9);
      }

      input[type="text"],
      input[type="number"],
      input[type="password"],
      input[type="date"],
      input[type="time"],
      input[type="search"] {
        color: rgba(255, 255, 255, 0.9);
        background-color: var(--color-bg-trait-dark-transparent);
      }

      .currency {
        background-color: var(--color-bg-trait);

        .currency-image {
          box-shadow: inset 0 0 0 2px rgba(255, 255, 255, 0.9), inset 0 0 0 2px rgba(0, 0, 0, 0.2);
        }

        li > button {
          background-color: var(--color-bg-trait-light);
          box-shadow: 0 0 0 1px rgba(0, 0, 0, 0.25), inset 0 0 0 1px rgba(255, 255, 255, 0.25), 0 0 3px rgba(0, 0, 0, 0.5);
          color: var(--text-dark);
        }
      }

      .inventory ul.items {
        border: none;
        box-shadow: inset 0 0 0 1px rgba(255, 255, 255, 0.3), inset 0 0 0 2px rgba(0, 0, 0, 0.2);   
        > li {
          > .data .item-controls {
            color: rgb(255, 255, 255, 0.9);
    
            > a.toggle-invested.active, 
            > a.item-carry-type.active {
              color: rgba(255, 255, 255, 0.336);
            }
            > a.toggle-invested, 
            > a.item-carry-type {
              color: rgba(255, 255, 255, 0.336);
            }
          }
          .item-summary {
            background: none;
            border-bottom: 1px solid var(--color-border-trait);
            border-top: 1px solid var(--color-border-trait);
            border-left: none;
            border-right: none;
            flex: 100%;
            padding: var(--space-4) var(--space-8) var(--space-8);
          }
        }
      }

      .directory-list .action-header {
        background: var(--color-bg-trait);
        box-shadow: inset 0 0 0 1px rgba(0, 0, 0, 0.3), inset 0 0 0 2px rgba(255, 255, 255, 0.2);
      }

      > .tab.active.spellcasting .spellcasting-entry {
        .spell-ability-data .skill-score {
          color: var(--c-accent);
        }

        .rollable .d20-svg path {
          fill: var(--c-accent);
        }
      }

      ol.spell-list > li {
        .item-summary {
          background: none;
          border-bottom: 1px solid var(--sub);
          border-top: 1px solid #aca5a3;
        }
        .item-name h4 > a:hover {
          color: var(--text-light-inactive);
          text-shadow: none;
        }
        &.spell[data-slot-expended] h4 {
          color: var(--text-light-inactive);
          text-decoration: line-through;
        }
      }

      > .tab.active.crafting {
        li.known-formulas ol.formula-list li.formula-level-header.formula-level-header,
        li.known-formulas ol.formula-list li.formula-item.formula-level-header,
        li.crafting-entry ol.formula-list li.formula-level-header.formula-level-header,
        li.crafting-entry ol.formula-list li.formula-item.formula-level-header {
          background: rgba(96, 88, 86, 0.25);
          border: 1px solid var(--sub);
          padding: 0 var(--space-4);
          color: var(--text-light);
          font: 600 var(--font-size-12) var(--sans-serif);
          height: 1.25rem;
          margin: 0;
        }
        .crafting-options {
          border-image-source: none;
          border-style: solid;
          border-width: 3px;
          border-top-width: 1px;
          border-radius: 8px;
          border-color: var(--c-accent);
        }
      }

      > .tab.active.proficiencies ul.proficiencies-list li {
        border-image-source: none;
        border-style: solid;
        border-width: 3px;
        border-top-width: 1px;
        border-radius: 8px;
        border-color: var(--c-accent);

        a.hover {
          text-decoration: underline var(--color-pf-tertiary-darker);
          text-underline-offset: 0.125em;
        }

        a.d20 {
          filter: drop-shadow(0 0 1px var(--color-shadow-dark)) drop-shadow(0 0 2px var(--color-text-dark-4)) drop-shadow(0 0 3px var(--color-text-light-3));
          padding: var(--space-4);
        }
      }

      > .tab.active.feats ol.feats-list li.slot {
        ol.nested-items {
          border-left: var(--space-3) dotted var(--color-border-trait);
        }
        .item-name .feat-slot-title {
          display: flex;
          font: 600 var(--font-size-15) var(--serif);
          color: var(--text-light-inactive);
          justify-content: center;
          width: 1.25rem;
          margin-left: var(--space-6);
        }
      }


      > .tab.active.biography {
        section .editor .editor-edit {
          background: none;
          color: var(--text-light);
          box-shadow: inset 0 0 0 1px rgba(255, 255, 255, 0.3), inset 0 0 0 2px rgba(0, 0, 0, 0.2);
        }
        section.editable .editor,
        section.editable input {
          background: var(--color-bg-trait-dark-transparent);
        }
      }
      section.major > header a,
      section.major > .subsection > header a {
        color: var(--text-light);
      }

      > .tab.active.character .subsection {
        &.details .abcd .detail h3 {
          color: var(--text-light);
          background-color: var(--color-bd-text-input);
        }

        &.speeds .speed {
          .label {
            color: var(--text-light);
          }

          .value.rollable svg path {
            fill: var(--text-light);
          }

          .value,
          .value i {
            color: var(--text-light);
            fill: var(--text-light);
          }

          .value:hover,
          .value i:hover {
            filter: drop-shadow(0 0 1px var(--color-shadow-dark)) drop-shadow(0 0 2px var(--color-text-dark-4)) drop-shadow(0 0 3px var(--color-text-light-3));
          }
        }

        &.attributes ul {
          .label {
            color: var(--text-light);
          }

          h3.modifier {
            border-image-source: none;
            border-style: solid;
            border-width: 3px;
            border-top-width: 1px;
            border-radius: 8px;
            border-color: var(--c-accent);
          }
        }
      }
    }

    > aside {
      --color-pf-secondary: var(--c-tertiary-dark);
      background-image: url("../assets/theme/dark/dark_sidebar_top.webp"), url("../assets/theme/dark/dark_sidebar_bottom.webp");

      &::before {
        content: "";
        float: left;
        opacity: 1;
        background-image: url("../assets/sf-logo.webp");
        background-size: contain;
        width: 234px;
        height: 56px;
        position: relative;
        left: -0.5rem;
        top: 0;
        margin-top: 11px;
        margin-bottom: 5px;
      }

      .sidebar {
        select {
          border: 1px solid var(--c-accent);
          background-color: var(--c-accent-dark);
        }
        .data-value h2 {
          color: var(--c-tertiary-light);
        }
        a.modifier {
          color: var(--c-accent-light);
          text-decoration: underline var(--c-accent-light);
        }
        button {
          color: var(--c-emphasis);
          background: var(--c-accent-dark);
        }
        .hitpoints .hp-big .container.current-hp {
          background-image: linear-gradient(to right, var(--color-bg-trait-dark), var(--c-primary-dark), var(--color-bg-trait-dark));
        }
        .roll-data a.modifier.hover {
          text-decoration: underline var(--color-pf-tertiary-darker);
        }
        .armor-class {
          .ac {
            filter: hue-rotate(65deg) brightness(1.6);
          }
          .shield.hp {
            filter: hue-rotate(225deg) brightness(1.6);
          }
        }
      }

      img.logo {
        display: none;
      }
    }
  }
}
